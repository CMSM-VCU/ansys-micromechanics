{
    "$schema": "http://json-schema.org/schema#",
    "title": "RVE Tester Input",
    "description": "Input deck defining an RVE test case",
    "type": "object",
    "properties": {
        "caseId": {
            "description": "The unique identifier for a test case",
            "type": "integer",
            "minimum": 1
        },
        "caseDescription": {
            "description": "The description of a test case",
            "type": "string"
        },
        "units": {
            "description": "The set of units used for a test case (documentation only, no effect on simulation",
            "type": "object",
            "properties": {
                "length": {
                    "type": "string"
                },
                "mass": {
                    "type": "string"
                },
                "time": {
                    "type": "string"
                }
            },
            "required": ["length", "mass", "time"]
        },
        "dimensions": {
            "description": "The key dimensions of the test case",
            "type": "object",
            "properties": {
                "domainSideLength": {
                    "type": "number",
                    "description": "The side length of the cubic domain, centered on the origin"
                },
                "elementSpacing": {
                    "type": "number",
                    "description": "The element edge length in FEA cases, the grid spacing in PD cases"
                }
            },
            "required": ["domainSideLength", "elementSpacing"]
        },
        "loading": {
            "description": "The loading parameters for a test case",
            "type": "object",
            "properties": {
                "kind": {
                    "type": "string",
                    "enum": ["displacement", "pressure"]
                },
                "normalMagnitude": {
                    "type": "number",
                    "description": "The magnitude of loading for all normal tests, units depending on kind"
                },
                "shearMagnitude": {
                    "type": "number",
                    "description": "The magnitude of loading for all shear tests, units depending on kind"
                }
            },
            "required": ["kind", "normalMagnitude", "shearMagnitude"]
        },
        "materials": {
            "description": "The list of materials and their properties",
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "materialIndex": {
                        "description": "The index number for a material",
                        "type": "integer",
                        "minimum": 1
                    },
                    "elasticModuli": {
                        "description": "The elastic moduli of a material in the three principal directions",
                        "type": "array",
                        "items": {
                            "type": "number"
                        },
                        "minItems": 3,
                        "maxItems": 3,
                        "exclusiveMinimum": 0.0
                    },
                    "shearModuli": {
                        "description": "The shear moduli of a material in the three principal planes: 1-2, 2-3, 3-1",
                        "type": "array",
                        "items": {
                            "type": "number"
                        },
                        "minItems": 3,
                        "maxItems": 3,
                        "exclusiveMinimum": 0.0
                    },
                    "poissonsRatios": {
                        "description": "The poisson's ratios of a material in the three principal planes: 1-2, 2-3, 3-1",
                        "type": "array",
                        "items": {
                            "type": "number"
                        },
                        "minItems": 3,
                        "maxItems": 3,
                        "minimum": -1.0,
                        "maximum": 0.5
                    },
                    "density": {
                        "description": "The volumetric density of a material. Only used in PD cases (currently).",
                        "type": "number",
                        "exclusiveMinimum": 0.0
                    }
                },
                "required": [
                    "materialIndex",
                    "elasticModuli",
                    "shearModuli",
                    "poissonsRatios"
                ]
            },
            "minItems": 1
        },
        "materialLocations": {
            "description": "The centroid locations of all non-default material elements or nodes",
            "type": "object",
            "properties": {
                "locationsWithId": {
                    "description": "The locations ordered as [xloc, yloc, zloc, materialIndex]",
                    "type": "array",
                    "items": {
                        "type": "array",
                        "items": [
                            {
                                "type": "number",
                                "description": "x coordinate"
                            },
                            {
                                "type": "number",
                                "description": "y coordinate"
                            },
                            {
                                "type": "number",
                                "description": "z coordinate"
                            },
                            {
                                "type": "integer",
                                "description": "Material index",
                                "minimum": 1
                            }
                        ],
                        "minItems": 4,
                        "additionalItems": false
                    },
                    "minItems": 0
                }
            },
            "required": ["locationsWithId"]
        }
    },
    "required": [
        "caseId",
        "caseDescription",
        "units",
        "dimensions",
        "loading",
        "materials",
        "materialLocations"
    ]
}
